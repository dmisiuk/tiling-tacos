# Conservative skhd configuration for macOS
# Using ctrl+alt (safe modifiers) to avoid conflicts with system shortcuts
# Minimal keybindings that don't interfere with macOS

# ===== WINDOW MANAGEMENT =====
# Using ctrl+alt as main modifier - safe from macOS conflicts

# Focus windows (ctrl+alt + hjkl)
ctrl + alt - h : yabai -m window --focus west
ctrl + alt - j : yabai -m window --focus south
ctrl + alt - k : yabai -m window --focus north
ctrl + alt - l : yabai -m window --focus right

# Move windows (ctrl+alt+shift + hjkl)
ctrl + alt + shift - h : yabai -m window --warp west
ctrl + alt + shift - j : yabai -m window --warp south
ctrl + alt + shift - k : yabai -m window --warp north
ctrl + alt + shift - l : yabai -m window --warp right

# Resize windows (ctrl+cmd + hjkl)
ctrl + cmd - h : yabai -m window --resize left:-50:0 || yabai -m window --resize right:-50:0
ctrl + cmd - j : yabai -m window --resize bottom:0:50 || yabai -m window --resize top:0:50
ctrl + cmd - k : yabai -m window --resize top:0:-50 || yabai -m window --resize bottom:0:-50
ctrl + cmd - l : yabai -m window --resize right:50:0 || yabai -m window --resize left:50:0

# ===== WINDOW STATES =====

# Toggle fullscreen (ctrl+alt+f - safe from conflicts)
ctrl + alt - f : yabai -m window --toggle zoom-fullscreen

# Toggle float (ctrl+alt+t)
ctrl + alt - t : yabai -m window --toggle float && yabai -m window --grid 4:4:1:1:2:2

# Balance space (ctrl+alt+b)
ctrl + alt - b : yabai -m space --balance

# Rotate space (ctrl+alt+r)
ctrl + alt - r : yabai -m space --rotate 270

# ===== LAYOUTS =====

# Cycle layouts (ctrl+alt+space)
ctrl + alt - space : yabai -m space --layout $(yabai -m query --spaces --space | jq -r 'if .type == "bsp" then "stack" else "bsp" end')

# ===== SPACES (Only if you want them) =====
# Commented out to avoid conflicts - uncomment if needed

# Focus spaces (ctrl+alt + 1-4 only to avoid conflicts)
# ctrl + alt - 1 : yabai -m space --focus 1
# ctrl + alt - 2 : yabai -m space --focus 2
# ctrl + alt - 3 : yabai -m space --focus 3
# ctrl + alt - 4 : yabai -m space --focus 4

# Move window to space (ctrl+alt+shift + 1-4)
# ctrl + alt + shift - 1 : yabai -m window --space 1 && yabai -m space --focus 1
# ctrl + alt + shift - 2 : yabai -m window --space 2 && yabai -m space --focus 2
# ctrl + alt + shift - 3 : yabai -m window --space 3 && yabai -m space --focus 3
# ctrl + alt + shift - 4 : yabai -m window --space 4 && yabai -m space --focus 4

# ===== SAFE UTILITIES =====

# Quick terminal (ctrl+alt+return - safe shortcut) - Open/focus Warp
ctrl + alt - return : open -a /Applications/Warp.app

# New Warp window (ctrl+alt+shift+return)
ctrl + alt + shift - return : open -na /Applications/Warp.app

# VS Code (ctrl+alt+c)
ctrl + alt - c : open -na "/Applications/Visual Studio Code.app"

# Restart yabai (ctrl+alt+cmd+r)
ctrl + alt + cmd - r : yabai --restart-service && skhd --restart-service

# ===== BLACKLIST - Prevent conflicts =====

.blacklist [
    "1Password 7"
    "1Password"
    "Alfred"
    "App Store"
    "Calculator"
    "Finder"
    "Raycast"
    "System Preferences"
    "System Settings"
    "Spotlight"
]
